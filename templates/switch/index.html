{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}
{% block content %}
    <form role="form" action="{% url 'submit' %}" class="form" method="post">
        {% csrf_token %}
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Ports</th>
                <th>Enabled</th>
                <th>Tagged</th>
                <th>VLAN</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                {% for port in ports %}
                    <tr>
                        <td>
                            {{ port.name }}
                            <input type="checkbox" hidden name="names" checked value="{{ port.name }}">
                        </td>
                        <td>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox"
                                       id="enabled-checkbox-{{ forloop.counter }}"
                                       class="custom-control-input"
                                       name="enabled-ports"
                                       value="{{ port.name }}"
                                       {% if port.enabled %}checked{% endif %} />
                                <label class="custom-control-label" for="enabled-checkbox-{{ forloop.counter }}"></label>
                            </div>
                        </td>
                        <td>
                            <div class="custom-control custom-checkbox">
                              <input
                                      type="checkbox"
                                      id="tagged-checkbox-{{ forloop.counter }}"
                                      class="custom-control-input"
                                      name="tagged-ports"
                                      value="{{ port.name }}"
                                      {% if port.tagged %}checked{% endif %}>
                              <label class="custom-control-label" for="tagged-checkbox-{{ forloop.counter }}"></label>
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input type="number" class="form-control"
                                       name="{{ port.name }}-value"
                                       value="{{ port.value }}">
                            </div>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <button type="submit" class="btn btn-primary">Apply</button>
    </form>

{% endblock %}